import { useState } from 'react'
import Inventario from './components/Inventario'
import Prestamos from './components/Prestamos'
import RegistrarPrestamo from './components/RegistrarPrestamo'
// --- ¡NUEVA IMPORTACIÓN! ---
import RegistrarPractica from './components/RegistrarPractica'
import './App.css'

const API_URL = 'https://api-inventario.dejesus-ramirez-josue.workers.dev'

// Ahora tenemos 4 vistas
type Vista = 'inventario' | 'prestamos' | 'registrar' | 'practica'

function App() {
  const [vista, setVista] = useState<Vista>('inventario')

  const cambiarVista = (nuevaVista: Vista) => {
    setVista(nuevaVista);
  }

  return (
    <div className="admin-panel">
      
      <aside className="sidebar">
        <div className="sidebar-header">
          <h3>Panel de Admin</h3>
        </div>
        <nav className="sidebar-nav">
          <button 
            onClick={() => cambiarVista('inventario')}
            className={vista === 'inventario' ? 'active' : ''}
          >
            Inventario
          </button>
          <button 
            onClick={() => cambiarVista('prestamos')}
            className={vista === 'prestamos' ? 'active' : ''}
          >
            Historial Préstamos
          </button>
          <button 
            onClick={() => cambiarVista('registrar')}
            className={vista === 'registrar' ? 'active' : ''}
          >
            Registrar Préstamo (Alumno)
          </button>
          {/* --- ¡NUEVO BOTÓN! --- */}
          <button 
            onClick={() => cambiarVista('practica')}
            className={vista === 'practica' ? 'active' : ''}
          >
            Registrar Práctica (Profesor)
          </button>
        </nav>
      </aside>

      <main className="content">
        {vista === 'inventario' && <Inventario apiUrl={API_URL} />}
        {vista === 'prestamos' && <Prestamos apiUrl={API_URL} />}
        {vista === 'registrar' && <RegistrarPrestamo apiUrl={API_URL} />}
        {/* --- ¡NUEVO COMPONENTE! --- */}
        {vista === 'practica' && <RegistrarPractica apiUrl={API_URL} />}
      </main>
      
    </div>
  )
}

export default App